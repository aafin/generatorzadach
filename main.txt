


.dh 1 Введение

Это документация к генератору задач по математике

.dh 2 Описание файлов

1.awk html.awk doc.bat - Система автоматического создания документации.
То, что Вы сейчас читаете создано из main.txt с её помощью.

rnm.bat , rnm_do.bat rnm.awk - Система одновременного переименования слов во всех 
используемых файлах. Нужна для рефакторинга.

ru-setup.bat en-setup.bat команда начала установки





.dh Созданее дерева катологов

Это делает комадный файл tools.bat

Список 

.df tlsawk tools.awk
.df tlsbat tools.bat



.dh Создание всех кнопок

Файл 
.f tlsbat
запущенный с параметрами
.V
 mkalldir Язык Кол-воЗаданий

делает дерево директорий с кнопками.
Точнее, запускается 
.f tlsawk
, он делет временный командный файл, а уже тот создаёт всё, что нужно.
.di ToDo Что делать?
Передает задание 
.f tlsawk
А через
.di KolVo кол-во вариантов
передается кол-во вариатнов
.s mkalldirB

.f tlsawk
Читает список заданий из файла ru-ex.txt
и из строчек вида
.V
Z @ ru @ Тестовые задания @ Первый тест @ Test @ ZplZ

Делает то, что нужно.
.b
.dl Lengvige Язык (ru)
.dl Flname   Имя файла со сгенерированными заданиями
.dl ZdList   список имён заданий
.dl RemakeName имя кнопки
.dl TmpA временный массив для разбора строки
.s mkalldir
.e


Запуск 
.f tlsbat с параметрами
.V
cp Язык ИмяФайла

используется для копирования свежесгенерированных файлов в нужную директорию
.s toolscp

.di MkDirs (Три директории) делает команды для создания трёх вложенных директорий и переходит туда
(Три директории) делает команды для создания трёх вложенных директорий
.b
.dl d1
.dl d2
.dl d3
.dl D Массив с именами
.dl i параметр цикла
.s MkDirs
.e

.di MkRemake (Файл кнопка, команда для генерации, Файл результат генерации, Язык)
(Файл кнопка, команда для генерации, Файл результат генерации, Язык) 
- делает файл кнопку для генерации задания.
.b
RemakeName,GnrtLine,Fname,Lng
.dl RemakeName Файл кнопка
.dl GnrtLine команда для генерации
.dl Fname, Файл результат генерации
.dl Lng Язык
.s MkRemake
.e


.di StripLine Обрезает пробелы в начале и конце строки
.s StripLine

.s a




